@import './styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ensure proper base styles */
@layer base {
  html {
    font-family: var(--font-family-primary, 'Inter', ui-sans-serif, system-ui, sans-serif);
    height: 100%;
    overflow-x: hidden;
  }
  
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    line-height: var(--line-height-body, 1.5);
    background-color: rgb(var(--color-bg-primary, 255 255 255));
    color: rgb(var(--color-text-primary, 15 23 42));
    transition: background-color 200ms, color 200ms;
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  #root {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Reset margins for heading elements */
  h1, h2, h3, h4, h5, h6, p, div {
    margin: 0;
  }
  
  /* Reset default spacing for common elements */
  ul, ol, li {
    margin: 0;
    padding: 0;
  }
  
  /* Ensure proper font rendering */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    box-sizing: border-box;
  }
  
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  /* Prevent zoom on input focus on mobile */
  input, select, textarea {
    font-size: 16px;
  }
  
  @media (min-width: 640px) {
    input, select, textarea {
      font-size: 14px;
    }
  }
}

/* Component utility styles */
@layer components {
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  /* Surface utilities for consistent backgrounds */
  .surface-card {
    @apply bg-white dark:bg-gray-900 border border-surface-200 dark:border-gray-800;
  }
}

/* PURE AMOLED Dark Mode Enhancements */
@layer utilities {
  /* Ensure pure black background in dark mode */
  .dark body {
    background-color: #000000 !important;
  }
  
  /* AMOLED optimized card backgrounds */
  .dark .bg-surface-card {
    background-color: #121212 !important; /* Dark gray for cards */
    border-color: #262626 !important; /* Slightly lighter border */
  }
  
  /* AMOLED navigation and sidebar backgrounds */
  .dark .bg-surface-nav {
    background-color: #000000 !important; /* Pure black for navigation */
    border-color: #262626 !important; /* Dark gray borders */
  }
  
  /* AMOLED modal and elevated surfaces */
  .dark .bg-surface-elevated {
    background-color: #1a1a1a !important; /* Very dark gray for elevated surfaces */
    border-color: #404040 !important; /* Medium gray borders */
  }
  
  /* AMOLED hover states */
  .dark .hover\:bg-surface-hover:hover {
    background-color: #262626 !important; /* Dark gray on hover */
  }
  
  /* AMOLED focus states with purple glow */
  .dark .focus\:ring-amoled:focus {
    box-shadow: 0 0 0 2px #000000, 0 0 0 4px rgba(147, 51, 234, 0.4) !important;
  }
  
  /* AMOLED text shadows for better contrast on pure black */
  .dark .text-shadow-amoled {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 1);
  }
  
  /* AMOLED glass effect for certain components */
  .dark .glass-amoled {
    background: rgba(26, 26, 26, 0.9) !important;
    backdrop-filter: blur(16px);
    border: 1px solid rgba(64, 64, 64, 0.4);
  }
  
  /* Remove any blue tints from elements */
  .dark .bg-slate-900 {
    background-color: #000000 !important;
  }
  
  .dark .bg-slate-800 {
    background-color: #0a0a0a !important;
  }
  
  .dark .bg-slate-700 {
    background-color: #121212 !important;
  }
  
  .dark .border-slate-700,
  .dark .border-slate-800 {
    border-color: #262626 !important;
  }
  
  /* Text colors for maximum contrast */
  .dark .text-slate-100,
  .dark .text-slate-50 {
    color: #ffffff !important;
  }
  
  .dark .text-slate-300 {
    color: #d4d4d4 !important;
  }
  
  .dark .text-slate-400,
  .dark .text-slate-500 {
    color: #a3a3a3 !important;
  }
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Mobile Cart Drawer Animation */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}
